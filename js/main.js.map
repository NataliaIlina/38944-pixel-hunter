{"version":3,"file":"main.js","sources":["utils/create-elem.js","utils/abstract-view.js","templates/intro/intro-view.js","templates/footer/footer-view.js","templates/greeting/greeting-view.js","templates/game/game-data.js","templates/header/header-view.js","templates/rules/rules-view.js","templates/game/game-first-view.js","templates/game/game-second-view.js","templates/game/game-third-view.js","templates/result/result-view.js","templates/game/modal-view.js","templates/game/game-screen.js","templates/game/game-logic.js","templates/game/game-model.js","templates/statistics/count-points.js","templates/statistics/stats-view.js","templates/statistics/statistics-view.js","loader/error-view.js","utils/resize.js","loader/load-utils.js","loader/loader.js","application.js","main.js"],"sourcesContent":["const getElementFromTemplate = (template) => {\n  const element = document.createElement(`div`);\n  element.innerHTML = template;\n  return element;\n};\n\nexport default getElementFromTemplate;\n","import getElementFromTemplate from './create-elem';\n\nclass AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Невозможно создать объект с таким именем`);\n    }\n  }\n\n  get template() {\n    throw new Error(`Не найден подходящий шаблон`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = this.render();\n    this.bind(this._element);\n    return this._element;\n  }\n\n  render() {\n    return getElementFromTemplate(this.template);\n  }\n\n  bind() {\n\n  }\n}\n\nexport default AbstractView;\n","import AbstractView from '../../utils/abstract-view';\nimport getElementFromTemplate from '../../utils/create-elem';\n\n\nclass IntroView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div id=\"main\" class=\"central__content\">\n        <div id=\"intro\" class=\"intro\">\n          <h1 class=\"intro__asterisk rotate\">*</h1>\n          <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n        </div>\n      </div>`;\n  }\n\n  render() {\n    const element = getElementFromTemplate(this.template);\n    element.classList.add(`intro-layout`);\n    return element;\n  }\n\n  hide() {\n    this.element.style = `opacity: 0; transition: opacity 2s linear`;\n  }\n}\n\nexport default IntroView;\n","import AbstractView from '../../utils/abstract-view';\n\nclass FooterView extends AbstractView {\n  get template() {\n    return `<footer class=\"footer\">\n        <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n        <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n        <div class=\"footer__social-links\">\n          <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n          <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n          <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n          <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n        </div>\n      </footer>`;\n  }\n}\n\nexport default FooterView;\n","import AbstractView from '../../utils/abstract-view';\nimport FooterView from '../footer/footer-view';\nimport Application from '../../application';\n\nclass GreetingView extends AbstractView {\n  get template() {\n    return `<div class=\"greeting central--blur\">\n        <div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n        <h1 class=\"greeting__asterisk\">*</h1>\n        <div class=\"greeting__challenge\">\n          <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n          <p>Правила игры просты.<br>\n            Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br>\n            Задача кажется тривиальной, но не думай, что все так просто.<br>\n            Фотореализм обманчив и коварен.<br>\n            Помни, главное — смотреть очень внимательно.</p>\n        </div>\n        <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>\n      </div>\n      ${new FooterView().template}`;\n  }\n\n  bind() {\n    this.element.querySelector(`.greeting__continue`).addEventListener(`click`, () => {\n      Application.showRules();\n    });\n  }\n\n  hide() {\n    this.element.children[0].style = `opacity: 0`;\n  }\n\n  show() {\n    this.element.children[0].style = ``;\n    this.element.children[0].classList.add(`fade-in`);\n  }\n\n  addLoader(loader) {\n    this.element.appendChild(loader);\n  }\n\n  removeLoader(loader) {\n    loader.remove();\n  }\n}\n\nexport default GreetingView;\n","const Initial = {\n  LEVEL: 0,\n  TIME: 30,\n  LOW_TIME: 5,\n  END_TIME: 0,\n  TICK_TIME: 1000,\n  MAX_LIVES: 3,\n  MIN_LIVES: 0,\n  LEVEL_STEP: 1\n};\n\nconst INITIAL_GAME = Object.freeze({\n  level: Initial.LEVEL,\n  time: Initial.TIME,\n  lives: Initial.MAX_LIVES\n});\n\nconst QuestionType = {\n  TWO_OF_TWO: `two-of-two`,\n  TINDER_LIKE: `tinder-like`,\n  ONE_OF_THREE: `one-of-three`\n};\n\nconst AnswerType = {\n  PAINTING: `painting`,\n  PHOTO: `photo`\n};\n\nconst Result = {\n  CORRECT: `correct`,\n  WRONG: `wrong`,\n  FAST: `fast`,\n  SLOW: `slow`\n};\n\nconst BonusTime = {\n  FAST: 10,\n  SLOW: 20\n};\n\nexport {Initial, QuestionType, AnswerType, Result, BonusTime, INITIAL_GAME};\n","import AbstractView from '../../utils/abstract-view';\nimport {Initial} from '../game/game-data.js';\n\nclass HeaderView extends AbstractView {\n  constructor(game) {\n    super();\n    this.game = game;\n  }\n\n  get template() {\n    return `<header class=\"header\">\n      <div class=\"header__back\">\n        <button class=\"back\">\n          <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n          <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n        </button>\n      </div>\n      ${this.game ? `<h1 class=\"game__timer\">${this.game.time}</h1>\n      <div class=\"game__lives\">\n        ${new Array(Initial.MAX_LIVES - this.game.lives).fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n        ${new Array(this.game.lives).fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`).join(``)}\n      </div>` : ``}\n      </header>`;\n  }\n\n  bind() {\n    this.element.querySelector(`.back`).addEventListener(`click`, () => {\n      this.onBackButtonClick();\n    });\n  }\n\n  onBackButtonClick() {\n\n  }\n}\n\nexport default HeaderView;\n","import AbstractView from '../../utils/abstract-view';\nimport HeaderView from '../header/header-view';\nimport FooterView from '../footer/footer-view';\nimport Application from '../../application';\nimport getElementFromTemplate from '../../utils/create-elem';\n\nclass RulesView extends AbstractView {\n  get template() {\n    return `<div class=\"rules\">\n      <h1 class=\"rules__title\">Правила</h1>\n      <p class=\"rules__description\">Угадай 10 раз для каждого изображения фото <img\n        src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n        src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n        Фотографиями или рисунками могут быть оба изображения.<br>\n        На каждую попытку отводится 30 секунд.<br>\n        Ошибиться можно не более 3 раз.<br>\n        <br>\n        Готовы?\n      </p>\n      <form class=\"rules__form\">\n        <input class=\"rules__input\" type=\"text\" placeholder=\"Ваше Имя\">\n        <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n      </form>\n    </div>\n    ${new FooterView().template}`;\n  }\n\n  _renderHeader() {\n    const header = new HeaderView();\n    header.onBackButtonClick = () => {\n      Application.showGreeting();\n    };\n    return header.element;\n  }\n\n  render() {\n    const element = getElementFromTemplate(this.template);\n    element.insertAdjacentElement(`afterbegin`, this._renderHeader());\n    return element;\n  }\n\n  bind() {\n    const form = this.element.querySelector(`.rules__form`);\n    const button = form.querySelector(`.rules__button`);\n    const userName = form.querySelector(`.rules__input`);\n\n    userName.addEventListener(`input`, () => {\n      button.disabled = userName.value ? false : true;\n    });\n\n    form.addEventListener(`submit`, (evt) => {\n      evt.preventDefault();\n      Application.showGame(userName.value);\n      userName.value = ``;\n      button.disabled = true;\n    });\n  }\n}\n\nexport default RulesView;\n","import AbstractView from '../../utils/abstract-view';\n\nconst MAX_CHECKED_NUMBER = 2;\n\nclass GameFirstView extends AbstractView {\n  constructor(level) {\n    super();\n    this.answers = level.answers;\n    this.question = level.question;\n  }\n\n  get template() {\n    return `<div class=\"game\">\n      <p class=\"game__task\">${this.question}</p>\n      <form class=\"game__content\">\n  ${this.answers.map((answer, index) => {\n    return `<div class=\"game__option\">\n      <img src=\"${answer.image.url}\" alt=\"Option ${index + 1}\" width=\"${answer.image.width}\" height=\"${answer.image.height}\">\n      <label class=\"game__answer  game__answer--photo\">\n        <input name=\"question${index + 1}\" type=\"radio\" value=\"photo\">\n        <span>Фото</span>\n      </label>\n      <label class=\"game__answer  game__answer--paint\">\n        <input name=\"question${index + 1}\" type=\"radio\" value=\"painting\">\n        <span>Рисунок</span>\n      </label>\n    </div>`;\n  }).join(``)}\n      </form>\n    </div>`;\n  }\n\n  bind() {\n    const form = this.element.querySelector(`.game__content`);\n\n    form.addEventListener(`change`, () => {\n      // кол-во чекнутых кнопок\n      const checkedButtons = form.querySelectorAll(`input[type=\"radio\"]:checked`);\n      // если 2 - проверяем ответы\n      if (checkedButtons.length === MAX_CHECKED_NUMBER) {\n        const answerFirst = form.querySelector(`input[name=question1]:checked`);\n        const answerSecond = form.querySelector(`input[name=question2]:checked`);\n        if (answerFirst && answerSecond) {\n          const answer = answerFirst.value === this.answers[0].type && answerSecond.value === this.answers[1].type;\n          this.onAnswer(answer);\n        }\n        form.reset();\n      }\n    });\n  }\n\n  onAnswer() {\n\n  }\n}\n\nexport default GameFirstView;\n","import AbstractView from '../../utils/abstract-view';\n\nclass GameSecondView extends AbstractView {\n  constructor(level) {\n    super();\n    this.answers = level.answers;\n    this.question = level.question;\n  }\n\n  get template() {\n    return `<div class=\"game\">\n    <p class=\"game__task\">${this.question}</p>\n      <form class=\"game__content  game__content--wide\">\n        <div class=\"game__option\">\n          <img src=\"${this.answers[0].image.url}\" alt=\"Option 1\" width=\"${this.answers[0].image.width}\" height=\"${this.answers[0].image.height}\">\n          <label class=\"game__answer  game__answer--photo\">\n            <input name=\"question1\" type=\"radio\" value=\"photo\">\n            <span>Фото</span>\n          </label>\n          <label class=\"game__answer  game__answer--wide  game__answer--paint\">\n            <input name=\"question1\" type=\"radio\" value=\"painting\">\n            <span>Рисунок</span>\n          </label>\n        </div>\n      </form>\n    </div>`;\n  }\n\n  bind() {\n    const form = this.element.querySelector(`.game__content`);\n    form.addEventListener(`change`, () => {\n      const userAnswer = form.querySelector(`input[name=question1]:checked`).value;\n      const answer = userAnswer === this.answers[0].type;\n      this.onAnswer(answer);\n      form.reset();\n    });\n  }\n\n  onAnswer() {\n\n  }\n}\n\nexport default GameSecondView;\n","import AbstractView from '../../utils/abstract-view';\nimport {AnswerType} from './game-data';\n\nclass GameThirdView extends AbstractView {\n  constructor(level) {\n    super();\n    this.level = level;\n    this.answers = level.answers;\n    this.question = level.question;\n  }\n\n  get template() {\n    return `<div class=\"game\">\n      <p class=\"game__task\">${this.question}</p>\n      <form class=\"game__content  game__content--triple\">\n  ${this.answers.map((answer) => {\n    return `<div class=\"game__option\">\n      <img src=\"${answer.image.url}\" alt=\"Option 1\" width=\"${answer.image.width}\" height=\"${answer.image.height}\">\n    </div>`;\n  })}\n      </form>\n    </div>`;\n  }\n\n  bind() {\n    // ищем тип правильного ответа\n    const wrightType = this.question.includes(`фото`) ? AnswerType.PHOTO : AnswerType.PAINTING;\n    // массив адресов картинок\n    const srcArray = this.answers.map((item) => item.image.url);\n    const form = this.element.querySelector(`.game__content`);\n\n    form.addEventListener(`click`, (evt) => {\n      // индекс src элемента. по которому кликнули\n      const answerIndex = srcArray.indexOf(evt.target.children[0].src);\n      // проверяем совпадает ли тип выбранной картинки с типом правильного ответа\n      const answer = this.answers[answerIndex].type === wrightType;\n      this.onAnswer(answer);\n    });\n  }\n\n  onAnswer() {\n\n  }\n}\n\nexport default GameThirdView;\n","import AbstractView from '../../utils/abstract-view';\n\nclass ResultView extends AbstractView {\n  constructor(answers) {\n    super();\n    this.answers = answers;\n  }\n\n  get template() {\n    return `<div class=\"stats\">\n      <ul class=\"stats\">\n        ${this.answers.map((className) => `<li class=\"stats__result stats__result--${className}\"></li>`).join(``)}\n        ${new Array(10 - this.answers.length).fill(`<li class=\"stats__result stats__result--unknown\"></li>`).join(``)}\n      </ul>\n    </div>`;\n  }\n}\n\n\nexport default ResultView;\n","import AbstractView from '../../utils/abstract-view';\n\nclass ModalView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `<div class=\"game__modal\">\n        <p class=\"game__modal-title\">\n          Все результаты текущей игры будут утеряны.<br /> Хотите выйти?\n        </p>\n        <button type=\"button\" class=\"game__modal-button  game__modal-button--reset\">Да</button>\n        <button type=\"button\" class=\"game__modal-button  game__modal-button--continue\">Нет</button>\n      </div>`;\n  }\n\n  bind() {\n    this.element.querySelector(`.game__modal-button--reset`).addEventListener(`click`, () => {\n      this.onResetClick();\n    });\n    this.element.querySelector(`.game__modal-button--continue`).addEventListener(`click`, () => {\n      this.onContinueClick();\n    });\n  }\n\n  onResetClick() {\n\n  }\n\n  onContinueClick() {\n\n  }\n}\n\nexport default ModalView;\n","import GameFirstView from './game-first-view';\nimport GameSecondView from './game-second-view';\nimport GameThirdView from './game-third-view';\nimport HeaderView from '../header/header-view';\nimport ResultView from '../result/result-view';\nimport FooterView from '../footer/footer-view';\nimport ModalView from './modal-view';\nimport Application from '../../application';\nimport {Initial, QuestionType} from './game-data';\n\nconst Views = {\n  [QuestionType.TWO_OF_TWO]: GameFirstView,\n  [QuestionType.TINDER_LIKE]: GameSecondView,\n  [QuestionType.ONE_OF_THREE]: GameThirdView\n};\n\nclass GameScreen {\n  constructor(model) {\n    this.model = model;\n    this.header = this._renderHeader();\n    this.content = this._renderLevel(this.model.currentLevel);\n    this.results = new ResultView(this.model.state.answers);\n    this.footer = new FooterView();\n\n    this.root = document.createElement(`div`);\n    this.root.appendChild(this.header.element);\n    this.root.appendChild(this.content.element);\n    this.root.appendChild(this.results.element);\n    this.root.appendChild(this.footer.element);\n    this._interval = null;\n  }\n\n  get element() {\n    return this.root;\n  }\n  // инициализация игры - установка первоначальных параметров + старт игры\n  init() {\n    this.model.restart();\n    this._startGame();\n  }\n\n  _renderLevel(level) {\n    // получаем нужную вьюшку\n    const View = Views[level.type];\n    const content = new View(level);\n    content.onAnswer = this._onAnswer.bind(this);\n    return content;\n  }\n  // собираем хэдер + обработчики\n  _renderHeader() {\n    const header = new HeaderView(this.model.state);\n    header.onBackButtonClick = () => {\n      this._stopGame();\n      this.root.appendChild(this._renderModal().element);\n    };\n    if (this.model.state.time <= Initial.LOW_TIME) {\n      header.element.querySelector(`.game__timer`).classList.add(`blinker`);\n    }\n    return header;\n  }\n  // собираем модалку + обработчики\n  _renderModal() {\n    const modal = new ModalView();\n    modal.onResetClick = () => {\n      this._endGame();\n      Application.showGreeting();\n      modal.element.remove();\n    };\n    modal.onContinueClick = () => {\n      this._continueGame();\n      modal.element.remove();\n    };\n    return modal;\n  }\n  // таймер для игры\n  _startTimer() {\n    this._interval = setInterval(() => {\n      this.model.tick();\n      if (this.model.state.time <= Initial.END_TIME) {\n        this._stopGame();\n        this._onAnswer(false);\n      }\n      this._updateHeader();\n    }, Initial.TICK_TIME);\n  }\n\n  _startGame() {\n    this._changeLevel();\n    this._startTimer();\n  }\n\n  _stopGame() {\n    clearInterval(this._interval);\n  }\n\n  _continueGame() {\n    this._startTimer();\n  }\n\n  _endGame(save) {\n    if (save) {\n      this.model.saveResults();\n    }\n    this.model.restart();\n  }\n  // обработка ответа пользователя\n  _onAnswer(answer) {\n    this._stopGame();\n    this.model.getAnswer(answer);\n\n    if (!this.model.hasNextLevel() || this.model.isDead() && !answer) {\n      this._endGame(true);\n    } else if (!answer) {\n      this.model.die();\n      this.model.changeLevel();\n      this._startGame();\n    } else {\n      this.model.changeLevel();\n      this._startGame();\n    }\n  }\n  // обновление хэдера\n  _updateHeader() {\n    const header = this._renderHeader();\n    this.root.replaceChild(header.element, this.header.element);\n    this.header = header;\n  }\n  // обновление результатов\n  _updateResults() {\n    const results = new ResultView(this.model.state.answers);\n    this.root.replaceChild(results.element, this.results.element);\n    this.results = results;\n  }\n  // смена игрового экрана\n  _changeContentView(view) {\n    this.root.replaceChild(view.element, this.content.element);\n    this.content = view;\n  }\n  // смена уровня\n  _changeLevel() {\n    this.model.restartTime();\n    this._changeContentView(this._renderLevel(this.model.currentLevel));\n    this._updateResults();\n    this._updateHeader();\n  }\n}\n\nexport default GameScreen;\n","import {Result, BonusTime} from './game-data';\n\nconst getAnswerType = (answer) => {\n  if (!answer.isCorrect) {\n    return Result.WRONG;\n  }\n  if (answer.isCorrect && answer.time < BonusTime.FAST) {\n    return Result.FAST;\n  }\n  if (answer.isCorrect && answer.time > BonusTime.SLOW) {\n    return Result.SLOW;\n  }\n  return Result.CORRECT;\n};\n\nconst adaptResults = (result) => {\n  return {\n    'lives': result.lives,\n    'answers': result.answers\n  };\n};\n\nexport {adaptResults, getAnswerType};\n","import {Initial, INITIAL_GAME} from './game-data';\nimport {getAnswerType, adaptResults} from './game-logic';\nimport Application from '../../application';\n\n// модель игры, обрабатывает данные\nclass GameModel {\n  constructor(data, player) {\n    this.data = data;\n    this.player = player;\n    this.restart();\n  }\n  // возвращает состояние игры\n  get state() {\n    return this._state;\n  }\n  // состояние текущего уровня\n  get currentLevel() {\n    return this.data[this._state.level];\n  }\n  // инициализация данных\n  restart() {\n    this._state = Object.assign({}, INITIAL_GAME);\n    this._state.answers = [];\n  }\n  // условие выхода из игры\n  isDead() {\n    return this._state.lives <= Initial.MIN_LIVES;\n  }\n  // потеря одной жизни\n  die() {\n    this._state.lives--;\n  }\n  // есть ли следующий лвл\n  hasNextLevel() {\n    return this.data[this._state.level + Initial.LEVEL_STEP] !== void 0;\n  }\n  // переключение на след лвл\n  changeLevel() {\n    this._state.level++;\n  }\n  // обработка ответа пользователя\n  getAnswer(answer) {\n    const userAnswer = {isCorrect: answer, time: Initial.TIME - this._state.time};\n    this._state.answers.push(\n        getAnswerType(userAnswer)\n    );\n  }\n  // уменьшает значение поля time на 1\n  tick() {\n    this._state.time--;\n  }\n  // обновляет значение поля time на исходное\n  restartTime() {\n    this._state.time = Initial.TIME;\n  }\n\n  saveResults() {\n    Application.showStats(adaptResults(this.state), this.player);\n  }\n}\n\nexport default GameModel;\n","import {Result} from '../game/game-data';\nconst MAX_ANSWERS_NUMBER = 10;\n\nconst BonusPoint = {\n  ANSWER: 100,\n  TIME: 50,\n  LIFE: 50\n};\n\nconst countAnswers = (result) => {\n  if (!Array.isArray(result.answers)) {\n    throw new Error(`Ожидается получить массив с ответами`);\n  }\n  if (result.answers.length < MAX_ANSWERS_NUMBER) {\n    return false;\n  }\n  // считаем правильные ответы\n  const rightAnswers = result.answers.filter((answer) => answer !== Result.WRONG);\n  // считаем быстрые ответы\n  const fastAnswers = rightAnswers.filter((answer) => answer === Result.FAST);\n  // считаем долгие ответы\n  const slowAnswers = rightAnswers.filter((answer) => answer === Result.SLOW);\n  // общее кол-во ответов\n  const AnswerResult = {\n    RIGHT: rightAnswers.length,\n    FAST: fastAnswers.length,\n    SLOW: slowAnswers.length,\n    LIVES: result.lives\n  };\n\n  return AnswerResult;\n};\n\nconst countPoints = (answers) => {\n  // общее кол-во набранных очков\n  const points = answers.RIGHT * BonusPoint.ANSWER + answers.FAST * BonusPoint.TIME - answers.SLOW * BonusPoint.TIME + answers.LIVES * BonusPoint.LIFE;\n  return points;\n};\n\nexport {countPoints, countAnswers, BonusPoint};\n","import AbstractView from '../../utils/abstract-view';\nimport {countAnswers, countPoints} from './count-points';\nimport ResultView from '../result/result-view';\n\nclass StatsView extends AbstractView {\n  constructor(result, points, index) {\n    super();\n    this.result = result;\n    this.points = points;\n    this.index = index;\n    this.answers = this.result.answers;\n    this.view = new ResultView(this.answers).template;\n    this.answerResult = countAnswers(this.result);\n    this.total = countPoints(this.answerResult);\n  }\n\n  get template() {\n    return `<table class=\"result__table\">\n    ${this.answerResult ? `\n      <tr>\n        <td class=\"result__number\">${this.index}.</td>\n        <td colspan=\"2\">\n          ${this.view}\n        </td>\n        <td class=\"result__points\">×&nbsp;${this.points.ANSWER}</td>\n        <td class=\"result__total\">${this.points.ANSWER * this.answerResult.RIGHT}</td>\n      </tr>\n      ${this.answerResult.FAST ? `<tr>\n              <td></td>\n              <td class=\"result__extra\">Бонус за скорость:</td>\n              <td class=\"result__extra\">${this.answerResult.FAST}&nbsp;<span class=\"stats__result stats__result--fast\"></span></td>\n              <td class=\"result__points\">×&nbsp;${this.points.TIME}</td>\n              <td class=\"result__total\">${this.answerResult.FAST * this.points.TIME}</td>\n            </tr>` : ``}\n      ${this.answerResult.LIVES ? `<tr>\n              <td></td>\n              <td class=\"result__extra\">Бонус за жизни:</td>\n              <td class=\"result__extra\">${this.answerResult.LIVES}&nbsp;<span class=\"stats__result stats__result--alive\"></span></td>\n              <td class=\"result__points\">×&nbsp;${this.points.LIFE}</td>\n              <td class=\"result__total\">${this.answerResult.LIVES * this.points.LIFE}</td>\n            </tr>` : ``}\n      ${this.answerResult.SLOW ? `<tr>\n              <td></td>\n              <td class=\"result__extra\">Штраф за медлительность:</td>\n              <td class=\"result__extra\">${this.answerResult.SLOW}&nbsp;<span class=\"stats__result stats__result--slow\"></span></td>\n              <td class=\"result__points\">×&nbsp;${this.points.TIME}</td>\n              <td class=\"result__total\">-${this.answerResult.SLOW * this.points.TIME}</td>\n            </tr>` : ``}\n      <tr>\n        <td colspan=\"5\" class=\"result__total  result__total--final\">${this.total}</td>\n      </tr>` : `<tr>\n        <td class=\"result__number\">${this.index}</td>\n        <td>\n          ${this.view}\n        </td>\n        <td class=\"result__total\"></td>\n        <td class=\"result__total  result__total--final\">fail</td>\n      </tr>`}\n    </table>`;\n  }\n}\n\nexport default StatsView;\n","import AbstractView from '../../utils/abstract-view';\nimport StatsView from './stats-view';\nimport {BonusPoint} from './count-points';\nimport getElementFromTemplate from '../../utils/create-elem';\nimport HeaderView from '../header/header-view';\nimport Application from '../../application';\n\nconst MIN_ANWSERS_FOR_WIN = 7;\n\nclass StatisticsView extends AbstractView {\n  constructor(results) {\n    super();\n    this.results = results.reverse();\n    // у последней попытки считаем кол-во правильных ответов\n    this.rightAnswers = this.results[0].answers.filter((answer) => answer !== `wrong`).length;\n    // превращаем массив в шаблоны\n    this.stats = this.results.map((result, index) => {\n      return new StatsView(result, BonusPoint, index + 1).template;\n    }).join(``);\n  }\n\n  get template() {\n    return `<div class=\"result\">\n      <h1>${this.rightAnswers >= MIN_ANWSERS_FOR_WIN ? `Победа!` : `Поражение :(`}</h1>\n      ${this.stats}\n      </div>`;\n  }\n\n  _renderHeader() {\n    const header = new HeaderView();\n    header.onBackButtonClick = () => {\n      Application.showGreeting();\n    };\n    return header.element;\n  }\n\n  render() {\n    const element = getElementFromTemplate(this.template);\n    element.insertAdjacentElement(`afterbegin`, this._renderHeader());\n    return element;\n  }\n}\n\nexport default StatisticsView;\n","import AbstractView from '../utils/abstract-view';\n\nclass ErrorView extends AbstractView {\n  constructor(error) {\n    super();\n    this.error = error;\n  }\n\n  get template() {\n    return `<div class=\"error\">${this.error}</div>`;\n  }\n\n  bind() {\n    this.element.addEventListener(`click`, () => {\n      this.element.remove();\n    });\n  }\n}\n\nexport default ErrorView;\n","const resize = (frame, image) => {\n  let width = image.width;\n  let height = image.height;\n\n  const ratio = width / height;\n\n  if (width > frame.width) {\n    width = frame.width;\n    height = width / ratio;\n  }\n  if (height > frame.height) {\n    height = frame.height;\n    width = height * ratio;\n  }\n\n  width = Math.floor(width);\n  height = Math.floor(height);\n\n  return {width, height};\n};\n\nexport {resize};\n","import ErrorView from './error-view';\nimport {resize} from '../utils/resize';\n\nconst checkStatus = (response) => {\n  if (response.ok) {\n    return response;\n  }\n  throw new Error(`${response.status}: ${response.statusText}`);\n};\n\nconst toJSON = (response) => response.json();\n// обработчик ошибок\nconst onError = (error) => {\n  const errorPopup = new ErrorView(error).element;\n  document.body.insertAdjacentElement(`afterbegin`, errorPopup);\n};\n// грузим данные с адреса\nconst loadData = (url) => {\n  return fetch(url)\n      .then(checkStatus)\n      .then(toJSON);\n};\n// промис под одну картинку\nconst loadImage = (url) => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.src = url;\n    image.onload = () => resolve(image);\n    image.onerror = () => reject(`Не удалось загрузить картнку: ${url}`);\n  });\n};\n// изменяем размеры картинок в исходникак под фреймы\nconst preloadImages = (data) => {\n  // массив для промисов\n  const promises = [];\n  data.forEach((question) => {\n    const answers = question.answers;\n    answers.forEach((answer) => {\n      // для каждой картинки создаем промис и пушим в массив\n      promises.push(loadImage(answer.image.url)\n      // при успешкной загрузке меняем размер в исходных данных\n          .then((image) => {\n            const newSize = resize(answer.image, image);\n            answer.image.width = newSize.width;\n            answer.image.height = newSize.height;\n          })\n          .catch((error) => onError(error)));\n    });\n  });\n  // возвращаем промисы всех картинок\n  return Promise.all(promises);\n};\n\nexport {checkStatus, onError, loadData, preloadImages};\n","import {checkStatus, onError, loadData} from './load-utils';\n\nconst SERVER_URL = `https://es.dump.academy/pixel-hunter`;\nconst APP_ID = 30081986;\nconst DEFAULT_NAME = `unknown_raccoon`;\n\nclass Loader {\n  static saveResults(data, name = DEFAULT_NAME) {\n    const settings = {\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    return fetch(`${SERVER_URL}/stats/${APP_ID}-${name}`, settings)\n        .then(checkStatus)\n        .catch((error) => onError(`Не удалось сохранить результаты текущей игры (${error})`));\n  }\n\n  static loadResults(name = DEFAULT_NAME) {\n    return loadData(`${SERVER_URL}/stats/${APP_ID}-${name}`)\n        .catch((error) => onError(`Произошла ошибка загрузки статистики (${error})`));\n  }\n\n  static loadQuestions() {\n    return loadData(`${SERVER_URL}/questions`);\n  }\n}\n\nexport default Loader;\n","import IntroView from './templates/intro/intro-view';\nimport GreetingView from './templates/greeting/greeting-view';\nimport RulesView from './templates/rules/rules-view';\nimport GameScreen from './templates/game/game-screen';\nimport GameModel from './templates/game/game-model';\nimport StatisticsView from './templates/statistics/statistics-view';\nimport Loader from './loader/loader';\nimport {preloadImages, onError} from './loader/load-utils';\n\nconst TIME_FOR_REMOVE_LOADER = 2000;\nconst main = document.querySelector(`.central`);\nconst changeView = (element) => {\n  main.innerHTML = ``;\n  main.appendChild(element);\n};\nlet gameData;\n\nclass Application {\n\n  static start() {\n    const intro = new IntroView();\n    const greeting = new GreetingView();\n    greeting.hide();\n    greeting.addLoader(intro.element);\n    changeView(greeting.element);\n    Loader.loadQuestions()\n        .then((data) => {\n          gameData = data;\n          return data;\n        })\n        .then((data) => preloadImages(data))\n        .then(() => intro.hide())\n        .then(() => greeting.show())\n        .then(() => setTimeout(() => {\n          greeting.removeLoader(intro.element);\n        }, TIME_FOR_REMOVE_LOADER))\n        .catch((error) => onError(`Произошла ошибка загрузки данных (${error})`));\n  }\n\n  static showGreeting() {\n    const greeting = new GreetingView();\n    changeView(greeting.element);\n  }\n\n  static showRules() {\n    const rules = new RulesView();\n    changeView(rules.element);\n  }\n\n  static showGame(playerName) {\n    const gameModel = new GameModel(gameData, playerName);\n    const gameScreen = new GameScreen(gameModel);\n    changeView(gameScreen.element);\n    gameScreen.init();\n  }\n\n  static showStats(model, player) {\n    Loader.saveResults(model, player)\n        .then(() => Loader.loadResults(player))\n        .then((data) => new StatisticsView(data))\n        .then((stats) => changeView(stats.element))\n        .catch(() => this.showGreeting());\n  }\n}\n\nexport default Application;\n","import Application from './application';\n\nApplication.start();\n"],"names":[],"mappings":"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"}